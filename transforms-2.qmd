---
title: Стандартизація змінних
author: Олександр Виноградов
format: html
editor: visual
---

Найпростіший варіант стандартизації змінних – обчислення так званих "лінеаризованих" z балів. Стандартизація здійснюється за допомогою простого лінійного перетворення: (сирий бал - середнє) / стандартне відхилення

```{r}
M <- transform(
  M,
  Z.MRS <- (MRS - mean(MRS, na.rm = TRUE)) / sd(MRS, na.rm = TRUE)
)

## або використати спеціальну функцію scale():
scale(БАЛИ)
```

Лінійна стандартизація допомагає психодіагносту інтерпретувати сирий індивідуальний бал в термінах відмінності людини від типового представника в одиницях стандартного відхилення. Від'ємне значення z балу вказує на те, що у неї ознака виражена в меншій мірі, ніж у типового представника, позитивна — у більшій мірі. Зазвичай z бал приймає значення у межах від -3 до +3, але варто розуміти, що теоретично він жодним чином не обмежений. Проте, завжди існують обмеження суто практичного характеру.

Другий, більш простий для розуміння (особливо звичайних людей) спосіб зробити сирий бал по психологічній методиці спирається на ідею відсотка людей, яких досліджуваний випереджає. Цей показник називається **percentile rank** (процентильний ранг) і розраховується дуже просто: спочатку представників вибірки стандартизації ранжують за величиною отриманого сирого балу від найменших до найбільших значень. Тобто, кожна людина отримує за свій бал певне рангове місце. Якщо декілька людей мають однаковий сирий бал, їхні рангові місця усереднюються (хоча існують і інші способи).

Потім від рангового місця віднімають 0.5 (це робиться для того, щоб процентильний ранг ніколи не міг дорівнювати 0 чи 100) і різницю ділять на кількість людей. Отриману частку множать на 100 і округлюють – тепер це показник того, який відсоток людей отримали менший сирий бал, ніж досліджуваний. В R цей алгоритм реалізується в наступний спосіб з врахуванням можливих пропущених даних:

```{r}
N <- sum(
  !is.na(M$SWL)
)

M$ПроцРанг <- round(100 * (rank(M$SWL, na.last = 'keep') - 0.5) / N)
```

Третій спосіб стандартизації спирається на припущення, що сирі бали "насправді" мають гаусівський (нормальний) розподіл. В результаті трансформації сирі бали замінюються на такі значення, які в нормальному розподілі мають той самий процентильний ранг, що й сирий бал досліджуваного:

```{r}
M $ Norm_SWLS <- qnorm(
  M$ПроцРанг
)
```

Функція qnorm() в якості аргумента має отримати частку площі, яка знаходиться під кривою розподілу лівіше від даного сирого балу (тобто, процентильний ранг). А повертає ця функція значення (нормалізованого) z балу – тобто, значення для одиничного нормального розподілу, лівіше якого буде саме така частка сукупності спостережень.

## Стандартні шкали (бали)

![](standscales.webp)

Детально зупинимося на цьому наступного разу
